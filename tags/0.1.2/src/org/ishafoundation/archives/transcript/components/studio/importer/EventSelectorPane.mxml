<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml">
	<mx:Script>
	<![CDATA[
		import org.ishafoundation.archives.transcript.fs.EventFile;
		private var _allEvents:Array;
	
		[Bindable]
		public function get allEvents():Array {
			return _allEvents;
		}
		
		public function set allEvents(newValue:Array):void {
			newValue.sort();
			_allEvents = newValue;
			selectedEventFile = null;
		}
	
		public function get selectedEventFile():EventFile {
			return eventsList.selectedItem as EventFile;
		}
	
		public function set selectedEventFile(eventFile:EventFile):void {
			if (eventFile == null) {
				eventsList.selectedItem = null;
				return;
			}
			// could just set the selectedItem to this value but that's risky
			// because we may have different objects representing the same file
			for each (var ef:EventFile in allEvents) {
				if (ef.nodeId == eventFile.nodeId) {
					eventsList.selectedItem = ef;
					break;
				}
			}			
		}
	]]>
	</mx:Script>
	<mx:Boolean id="ready">{eventsList.selectedItem != null}</mx:Boolean>
	<mx:List id="eventsList" width="100%" height="100%" labelField="name" dataProvider="{allEvents}"/>
	<mx:Button id="createEventButton" label="Create New Event..."/>	
</mx:VBox>
