<?xml version="1.0" encoding="utf-8"?>

<!--
   Transcript Markups Editor: An XML based application that allows users to define 
   and store contextual metadata for contiguous sections within a text document. 

   Copyright 2008 Mark Carter, Swami Kevala

   This file is part of Transcript Markups Editor.

   Transcript Markups Editor is free software: you can redistribute it and/or modify it 
   under the terms of the GNU General Public License as  published by the Free Software 
   Foundation, either version 3 of the License, or (at your option) any later version.

   Transcript Markups Editor is distributed in the hope that it will be useful, but 
   WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or 
   FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

   You should have received a copy of the GNU General Public License along with 
   Transcript Markups Editor. If not, see http://www.gnu.org/licenses/.
-->

<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" horizontalAlign="left" backgroundColor="#FFFFFF" creationComplete="clearPane()" minHeight="300" paddingTop="5" paddingBottom="5" paddingLeft="5" paddingRight="5">
	<mx:Script>
    <![CDATA[
    	import mx.collections.ArrayCollection;
    	import org.ishafoundation.archives.transcript.model.Transcript;
    	import mx.utils.StringUtil;
    	import org.ishafoundation.archives.transcript.model.GeneralNodeProperties;
    	
		public var transcript:Transcript;

		public function initPane():void {
		}
		
		public function clearPane():void {
		}
		
		private function somethingChanged():void {
			//dispatchEvent(new MarkupEvent(MarkupEvent.MARKUP_ATTRIBUTES_EDIT, null));
		}
		
		private function mmChange():void {
			var value:int = new int(mmTextInput.text);
			if (value == 0) {
				mmTextInput.text = "0";
			}
			else {
				while (mmTextInput.text.charAt(0) == "0") {
					mmTextInput.text = mmTextInput.text.substring(1);
				}
			}
		}

		private function ssChange():void {
			var value:int = new int(ssTextInput.text);
			if (value > 59) {
				ssTextInput.text = "59";
			}
			else {
				while (ssTextInput.text.length < 2) {
					ssTextInput.text = "0" + ssTextInput.text;
				}
			}
		}
    ]]>
	</mx:Script>
	<mx:Grid width="100%" verticalGap="2">
		<mx:GridRow width="100%" height="100%">
			<mx:GridItem width="100%" height="100%" verticalAlign="middle" textAlign="center" horizontalAlign="center">
				<mx:Label text="Source"/>
			</mx:GridItem>
			<mx:GridItem width="100%" height="100%" verticalAlign="middle" textAlign="center" horizontalAlign="center">
				<mx:Label text="Start Time (mm:ss)"/>
			</mx:GridItem>
			<mx:GridItem width="100%" height="100%" verticalAlign="middle" textAlign="center" horizontalAlign="center">
				<mx:Label text="End Time (mm:ss)"/>
			</mx:GridItem>
		</mx:GridRow>
		<mx:GridRow width="100%" height="100%">
			<mx:GridItem width="100%" height="100%">
				<mx:ComboBox id="sourceComboBox" width="100%"/>
			</mx:GridItem>
			<mx:GridItem width="100%" height="100%">
				<mx:HBox width="100%" height="100%" horizontalGap="0">
					<mx:TextInput id="mmTextInput" width="28" maxChars="3" restrict="0-9" text="0" focusOut="mmChange()" textAlign="right"/>
					<mx:Label text=":" width="8" textAlign="center" fontSize="12"/>
					<mx:TextInput id="ssTextInput" maxChars="2" editable="true" condenseWhite="true" restrict="0-9" text="00" focusOut="ssChange()" textAlign="right" width="22"/>
					<mx:Button label="Confirm" paddingLeft="0" paddingRight="0" width="100%"/>
				</mx:HBox>
			</mx:GridItem>
			<mx:GridItem width="100%" height="100%">
				<mx:HBox width="100%" height="100%" horizontalGap="0">
					<mx:TextInput id="mmTextInput0" width="28" maxChars="3" restrict="0-9" text="0" focusOut="mmChange()" textAlign="right"/>
					<mx:Label text=":" width="8" textAlign="center" fontSize="12"/>
					<mx:TextInput id="ssTextInput0" maxChars="2" editable="true" condenseWhite="true" restrict="0-9" text="00" focusOut="ssChange()" textAlign="right" width="22"/>
					<mx:Button label="Confirm" paddingLeft="0" paddingRight="0" width="100%"/>
				</mx:HBox>
			</mx:GridItem>
		</mx:GridRow>
	</mx:Grid>
</mx:VBox>
