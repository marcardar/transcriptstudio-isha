<!--
   Transcript Markups Editor: An XML based application that allows users to define 
   and store contextual metadata for contiguous sections within a text document. 

   Copyright 2008 Mark Carter, Swami Kevala

   This file is part of Transcript Markups Editor.

   Transcript Markups Editor is free software: you can redistribute it and/or modify it 
   under the terms of the GNU General Public License as  published by the Free Software 
   Foundation, either version 3 of the License, or (at your option) any later version.

   Transcript Markups Editor is distributed in the hope that it will be useful, but 
   WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or 
   FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

   You should have received a copy of the GNU General Public License along with 
   Transcript Markups Editor. If not, see http://www.gnu.org/licenses/.
-->

<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:collectionNS="org.ishafoundation.archives.transcript.components.studio.collection.*" title="Open Transcript" x="10" y="10" width="{0.8 * parentDocument.width}" height="{0.8 * parentDocument.height}" alpha="2.0" layout="absolute" initialize="init()">
	<mx:Script>
	<![CDATA[
		import org.ishafoundation.archives.transcript.fs.Collection;
		import org.ishafoundation.archives.transcript.util.*;
		import mx.utils.StringUtil;
	   	import mx.managers.PopUpManager;
	   	
	   	public static var OK_CLICKED:String = "OK_CLICKED";

	   	public function get selectedCollection():Collection {
	   		return collectionChooserTree.selectedItem as Collection;
	   	}
	   	//public var transcriptId:String;
	   	
		private function init():void {
			//set transcriptID validator
			/*idValidator.source = transcriptIdTextInput;
			idValidator.property = "text";
			idValidator.required = true;*/
		}
		
		private function okClicked(event:Event):void {
			dispatchEvent(new Event(OK_CLICKED));
			closeMe();
		}
		
		private function closeMe():void {
			PopUpManager.removePopUp(this);
		}
	]]>
	</mx:Script>
	<mx:VBox width="99%" height="99%">
		<collectionNS:CollectionChooserTree id="collectionChooserTree" width="100%" height="100%"/>
		<!--mx:HBox width="100%" horizontalAlign="left">
			<mx:Label text="ID:"/>
			<mx:TextInput id="transcriptIdTextInput" width="150" change="idValidator.validate()"/>			
			<mx:Label id="message"/>
		</mx:HBox-->
		<mx:HBox width="100%" horizontalAlign="center">
			<mx:Button id="okButton" label="OK" click="okClicked(event)" enabled="{collectionChooserTree.selectedItem != null}"/>
			<mx:Button label="Cancel" click="closeMe()"/>		
		</mx:HBox>		
	</mx:VBox>
</mx:TitleWindow>
