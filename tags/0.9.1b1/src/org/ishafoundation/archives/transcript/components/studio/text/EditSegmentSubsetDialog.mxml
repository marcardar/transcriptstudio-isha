<?xml version="1.0" encoding="utf-8"?>

<!--

   Transcript Studio for Isha Foundation: An XML based application that allows users to define 
   and store contextual metadata for contiguous sections within a text document. 

   Copyright 2008 Mark Carter, Swami Kevala

   This file is part of Transcript Studio for Isha Foundation.

   Transcript Studio for Isha Foundation is free software: you can redistribute it and/or modify it 
   under the terms of the GNU General Public License as  published by the Free Software 
   Foundation, either version 3 of the License, or (at your option) any later version.

   Transcript Studio for Isha Foundation is distributed in the hope that it will be useful, but 
   WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or 
   FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

   You should have received a copy of the GNU General Public License along with 
   Transcript Studio for Isha Foundation. If not, see http://www.gnu.org/licenses/.

-->

<textNS:AbstractEditDialog xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:textNS="org.ishafoundation.archives.transcript.components.studio.text.*" title="Edit Text" x="10" y="10" width="{0.8 * parentDocument.width}" alpha="2.0" layout="vertical">
	<mx:Script>
    <![CDATA[
    	import name.carter.mark.flex.util.Utils;
    	import mx.utils.StringUtil;
       	import mx.managers.PopUpManager;
       	
       	public static var OK_CLICKED:String = "OK_CLICKED";

		public override function set texts(texts:Array):void {
			textInput.text = texts[0];
		}
       	
       	public override function get texts():Array {
       		return [Utils.normalizeSpace(textInput.text)];
       	}
       	
		private function okClicked(event:Event):void {
			dispatchEvent(new Event(OK_CLICKED));
			closeMe();
		}
		
		private function closeMe():void {
        	PopUpManager.removePopUp(this);
		}
		
    ]]>
	</mx:Script>
	<mx:TextInput id="textInput" width="100%"/>
	<mx:HBox width="100%" horizontalAlign="center">
		<mx:Button id="okButton" label="OK" click="okClicked(event)" enabled="{StringUtil.trim(textInput.text).length > 0}"/>
		<mx:Button label="Cancel" click="closeMe()"/>		
	</mx:HBox>
</textNS:AbstractEditDialog>
